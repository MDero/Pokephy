<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
      <title>Vincent test page</title>	
      <h:outputStylesheet library="css" name="style.css"  /> 
    </h:head>
    
    <h:body>
    <h:panelGrid styleClass="centered">
       <h:graphicImage value="resources/images/pokemon_header.png" /> 
    </h:panelGrid>          
    <!-- TAB MENU -->
    <p:tabView id="tabView" scrollable="true">
        <p:tab title="Encyclopedia" id="tab_encyclopedia">
            <ui:include src="/encyclopediapage.xhtml" />
        </p:tab>
        <p:tab title="Catch Pokemon!" id="tab_catch">
            <ui:include src="/catchpage.xhtml" />
        </p:tab>
        <p:tab title="Team Management" id="tab_teammanagement">
            <ui:include src="/teammanagement.xhtml" />
        </p:tab>
        <p:tab title="Fight!" id="tab_fight">
            <ui:include src="/fightpage.xhtml" />
        </p:tab>
        <p:tab title="Statistics" id="tab_statistics">
            <ui:include src="/statisticspage.xhtml" />
        </p:tab>
        <p:tab title="Add a Pokemon" id="tab_addpokemon">
            <ui:include src="/addPokemon.xhtml" />
        </p:tab>       
    </p:tabView>
        
    <!-- POKEDETAIL WIDGET: placing it here makes it visible even when changing tab ! -->
    <p:dialog header="Pokemon info" widgetVar="pokeDialog" modal="false" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="pokeDetail" style="text-align:center;">
            
            <!-- BASIC INFO -->
            <p:panelGrid  columns="2" rendered="#{not empty dataGridView.selectedPokemon}" columnClasses="label,value">
                
                <f:facet name="header">
                    <h:graphicImage value="resources/images/#{dataGridView.selectedPokemon.name}.gif"/> 
                </f:facet>

                <h:outputText value="Name:" style="width:100px" />
                <h:outputText value="#{dataGridView.selectedPokemon.name}" />

                <h:outputText value="Type:" />
                <h:outputText value="#{dataGridView.selectedPokemon.type}" />

                <h:outputText value="Physical Skill" />
                <h:outputText value="#{dataGridView.selectedPokemon.physicalSkill.name}"/>

                <h:outputText value="Special Skill" />
                <h:outputText value="#{dataGridView.selectedPokemon.specialSkill.name}"/>
                
            </p:panelGrid>
            <p:chart type="bar" model="#{chartView.createStatsBarModel(dataGridView.selectedPokemon)}" style="height:300px"/>
        </p:outputPanel>
    </p:dialog>
    
    <!-- SETTINGS WIDGET -->
    <p:dialog header="Settings" widgetVar="settingsDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="settingsPane" style="text-align:center;">
            
        <h:form>
            <h:panelGrid columns="2" cellpadding="10">
                <p:outputLabel for="advanced" value="UI Theme:" /> 
                <p:themeSwitcher id="advanced" style="width:165px" effect="fade" var="t">
                    <f:selectItem itemLabel="Choose Theme" itemValue="" />  
                    <f:selectItems value="#{themeSwitcherView.themes}" var="theme" itemLabel="" itemValue="" />
                    <p:ajax listener="#{themeSwitcherView.testListener()}" />
                </p:themeSwitcher>
            </h:panelGrid>
        </h:form>
            
        </p:outputPanel>
    </p:dialog>   
    
    <!-- SEARCH WIDGET --> 
    <p:dialog header="Search" widgetVar="searchDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="searchPane" style="text-align:center;">

        </p:outputPanel>
    </p:dialog>   
    
    <!-- DOCK MENU AT THE BOTTOM OF THE PAGE -->
    <h:form>
    <p:dock position="bottom">
        <p:menuitem value="Home" icon="resources/images/pokeball.png" url="index.xhtml"/>
        <p:menuitem value="Fight!" icon="resources/images/fight.png" url="tabView.xhtml#tabView:tab_fight" update="tabView" />
        <p:menuitem value="Search" icon="resources/images/search.png" url="#"/>
        <p:menuitem value="Settings" icon="resources/images/settings.png" url="#" onclick="PF('settingsDialog').show()" />
    </p:dock>
        </h:form>
    </h:body>
</html>
